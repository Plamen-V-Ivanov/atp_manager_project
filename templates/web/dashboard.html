{% extends 'base/base.html' %}
{% load static %}
{% block page_content %}

    {% if request.user.is_authenticated and request.user.is_staff %}

        <div style="display: inline-grid; width: 100%; grid-template-columns: 1fr 1fr">

            <div class="actionBtn" style="width: 400px; margin: 10px auto; alignment: center; font-weight: bolder">
                <a href="{% url 'show closed tasks' %}" class="edit">Closed Tasks</a>
            </div>

            <div class="actionBtn" style="width: 400px; margin: 10px auto; alignment: center; font-weight: bolder">
                <a href="{% url 'show requested tasks' %}" class="edit">Requested Tasks</a>
            </div>

        </div>

        <div>
            <link rel="stylesheet" href="{% static 'css/planetary.css' %}"/>
            <div class="gear-wrapper">
                <div class="ring"></div>
                <div class="sun"></div>
                <div class="planets">
                    <div class="one"></div>
                    <div class="two"></div>
                    <div class="three"></div>
                </div>
            </div>
        </div>


    {% elif request.user.is_authenticated %}
        <div>
            <div class="team-page-category" style="padding: 20px;"> Your active tasks:</div>

        </div>
        {% if not tasks %}
            <div class="team-page-category"> You don't have active tasks at this moment. Choose some!</div>

        {% else %}
            {% for task in tasks %}

                <div class="card-box" style="max-width: 30rem;">
                    <div class="card-header" style="font-size: 24px; text-align: center">Title: <span
                            style="color: tan"> &ensp;{{ task.title }} </span></div>
                    <div class="card-body">
                        <h5 class="card-title" style="font-size: 20px; text-align: center; margin: 5px">
                            Category: {{ task.category }}</h5>
                        <div style="font-size: 18px; text-align: center; margin: 5px">Description:</div>
                        <div></div>

                        <div class="description-content">
                            <div class="card-text">{{ task.description }}</div>
                            <div>
                                {% if task.category == "Automation Engineering" %}
                                    <img class="my-task-img" src="{% static 'images/wp3610487.jpg' %}"
                                         alt="Automation image">
                                {% elif task.category == "Mechanical Engineering" %}
                                    <img class="my-task-img" src="{% static 'images/eng-2.png' %}"
                                         alt="Mechanical Engineering">
                                {% elif task.category == "Electrical Engineering" %}

                                    <img class="my-task-img" src="{% static 'images/546188.jpg' %}"
                                         alt="Electrical Engineering">
                                {% elif task.category == "Graphics and Design" %}
                                    <img class="my-task-img"
                                         src="{% static 'images/design-line-graphic-design-graphics-wallpaper-preview.jpg' %}"
                                         alt="Graphics and Design">
                                {% elif task.category == "Operational Technologist" %}
                                    <img class="my-task-img" src="{% static 'images/1880092.jpg' %}"
                                         alt="Operational Technologist">
                                {% endif %}
                            </div>
                        </div>
                        <div class="task-content" style="text-align: center; font-size: 20px; color: white">Added
                            at:
                            <span style="color: tan"> &ensp;{{ task.date_added }}</span>
                        </div>
                        <div class="buttons-my-tasks">
                            <div class="task-content"
                                 style="text-align: center; font-size: 20px; margin-top: 25px; margin-left: 15px; color: white; width: 100%;">
                                Difficulty: <span style="color: tan"> &ensp;{{ task.difficulty }} </span>
                            </div>
                            <div class="btn-group">
                                <!-- Album Buttons -->
                                <a href="{% url 'close task' task.pk %}" class="edit">Close Task</a>
                            </div>
                        </div>
                    </div>
                </div>

            {% endfor %}
        {% endif %}
    {% endif %}


{% endblock %}